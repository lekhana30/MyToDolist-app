<div id="link-container" class="card"><div class="card-body"><div class="card-contain text-center pl-3 pr-3"><div class="text-left"><h4>Submit Link</h4><p>Copy &amp; paste a url below to submit a link to this feed:</p></div><div class="input-group mb-2"><input id="input-thread-url" type="text" class="form-control" style="background:#f9f9f9;border:none" placeholder="Copy & Paste URL"></div><div id="link-meta-container" style="display:none" class="mb-3"><div style="flex:1"><input id="input-thread-title" type="text" class="w-100 mb-2" placeholder="Enter Title Here" style="border:none;padding:0px;font-size:1.1rem"> <textarea id="input-thread-description" rows="4" class="w-100" placeholder="Enter Preview Text Here" style="border:none;padding:0px"></textarea></div><div id="preview-image-container" class="mb-3 mt-2 ml-3"></div></div><textarea id="input-link-reaction" rows="6" placeholder="Enter Your Reaction Here..." class="w-100 mt-1 mb-1" style="border:1px solid #ededed;padding:6px;background:#f9f9f9;resize:none;display:none"></textarea> <input id="input-vtx-id" type="hidden"> <input id="input-vtx-schema" type="hidden"> <input id="input-vtx-site" type="hidden"><div id="btn-submit-link-container" class="text-center"><button id="btn-submit-link" style="display:none" class="btn btn-primary btn-block mb-2">Submit Link</button></div><div id="loading-indicator" style="text-align:center"></div></div><div class="table-responsive mt-4"><table class="table invoice-detail-table"><tbody id="links-table"></tbody></table></div></div></div><script type="text/template" id="tpl-links"><tr>
        <td>
            <small class="text-muted"><% dateString %></small>
            <h5 style="white-space:normal;line-height:1.5"><a target="_blank" href="<%{url}%>"><% title %></a></h5>
            <div class="mt-3 mb-2 link-preview">
                <div style="flex:1">
                    <div class="mobile-link-image mb-3">
                        <img class="mb-2" src="<%{image}%>" /><br />
                    </div>

                    <p class="m-0 mb-3"><% preview %></p>
                    <a href="/link/<% slug %>">
                        <span class="badge badge-light-info mr-1">COMMENTS</span>
                    </a>
                    <a href="/link/<% slug %>">
                        <span class="badge badge-light-secondary"><% domain %></span>
                    </a>
                </div>
                <div class="link-image ml-3">
                    <img style="width:140px" src="<%{image}%>" />
                </div>
            </div>
        </td>
    </tr></script><script type="text/javascript">!function(){var t=window.__PRELOADED__,l=t.vertexUser,n=t.links,e=function(){var i="",e=$("#tpl-links").html();n.forEach(function(t){i+=Mustache.render(e,t)}),$("#links-table").html(i)};$("#input-thread-url").on("input",function(){var t=$(this).val();-1!=t.indexOf("http")?($("#btn-submit-link").css("display","none"),$("#loading-indicator").html('<img style="max-width:80px" src="https://storage.turbo360.co/vertex360-cms-4hujkc/loader.gif" />'),isFetchingMeta=!0,window.vertexLib.getRequest("/scrape",{url:t},function(t,i){if(isFetchingMeta=!1,$("#loading-indicator").html(""),t)alert(t.message);else if("success"==i.confirmation){var e=i.data;console.log(JSON.stringify(e)),$("#input-thread-description").val(e.description),$("#input-thread-title").val(e.title),$("#btn-submit-link").css("display",""),$("#input-link-reaction").css("display",""),$("#link-meta-container").css("display","flex"),e.image?$("#preview-image-container").html('<img id="thread-image" style="max-width:120px" src="'+e.image+'" />'):$("#preview-image-container").css("display","none"),e["vtx:schema"]&&$("#input-vtx-schema").val(e["vtx:schema"]),e["vtx:id"]&&$("#input-vtx-id").val(e["vtx:id"]),e["vtx:site"]&&$("#input-vtx-site").val(e["vtx:site"])}else console.log("ERR - "+i.message)})):alert("Invalid URL. Copy & paste url from browser.")}),$("#btn-submit-link").click(function(t){if(null!=l){0==$("#input-vtx-id").val().length?function(t){for(var i="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<t;n++)i+=e.charAt(Math.floor(Math.random()*e.length))}(10):$("#input-vtx-id").val(),0==$("#input-vtx-schema").val().length||$("#input-vtx-schema").val();var i=$("#input-thread-url").val(),e=new URL(i),n={title:$("#input-thread-title").val(),image:$("#thread-image").attr("src"),url:i,domain:e.hostname,preview:$("#input-thread-description").val()};if(0!=n.url.length)if(0!=n.title.length){var a={site:0==$("#input-vtx-site").val().length?"":$("#input-vtx-site").val(),slug:"",title:n.title,image:n.image,url:n.url,domain:n.domain,preview:n.preview,reaction:$("#input-link-reaction").val(),profile:JSON.stringify({id:l.id,slug:l.slug,username:l.username,image:l.image})};$("#btn-submit-link-container").html("<img style='width:80px' src='https://storage.turbo360.co/vertex360-cms-4hujkc/loader.gif' />"),window.vertexLib.postRequest("/api/link",a,function(t,i){return t?($("#btn-submit-link-container").html('<button class="btn btn-primary btn-block mb-2">Submit Link</button>'),void alert("Error - "+t.message)):"success"!=i.confirmation?($("#btn-submit-link-container").html('<button class="btn btn-primary btn-block mb-2">Submit Link</button>'),void alert("Error - "+i.message)):(console.log("LINK CREATED: "+JSON.stringify(i.data)),void(window.location.href="/link/"+i.data.slug))})}else alert("Please enter a TITLE");else alert("Please enter a URL")}else alert("Please login or register to submit.")}),null==n?($("#links-table").html('<div style="text-align:center"><img src="https://storage.turbo360.co/turbo-blog-ksq2wy/loading-spinner.gif" /></div>'),window.utils.getRequest("/api/link?limit=10",function(t,i){t||(window.__PRELOADED__.links=i,n=i,e())})):e()}()</script>